#include <stdio.h>
#include <unistd.h>
#include <sys/types.h>
int main(int argc, char* argv[])
{
pid_t pid = fork();

switch (pid)
{
case 1:
   printf("I'm your father.\n");
   sleep(3);
   break;

case 0: //if (fork() == 0) child else father
   printf("I'm sorry, but I'm not Luke. I'm...");
   fflush(stdout);
   sleep(1); // for dramatic effect

   execlp("whoami","whoami",(char *)0);

// Notice that there is no break here. because it will give output and terminate itself

case -1:
printf("WTF?");
return -1;
break;
}
}
